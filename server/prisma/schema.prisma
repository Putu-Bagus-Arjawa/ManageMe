generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model exp_level_thresholds {
  id           Int @id @default(autoincrement())
  level        Int
  exp_required Int
}

model level_labels {
  id         Int    @id @default(autoincrement())
  label_name String
  min_level  Int
  max_level  Int
}

model task {
  id        Int    @id @default(autoincrement())
  nama_task String
  exp       Int
  userId    Int
  user      user   @relation(fields: [userId], references: [id], map: "Task_userId_fkey")

  @@index([userId], map: "Task_userId_fkey")
}

model user {
  id                Int      @id @default(autoincrement())
  name              String
  password          String
  level             Int      @default(1)
  current_exp       Int      @default(1)
  registration_date DateTime @default(now())
  avatar            String?
  task              task[]
  eating            eating[]
  allocation        allocation[]
}


model eating {
  day           Int
  items         String
  price         Int
  gizi          String
  eating_exp    Int
  eating_status String @default("Unfinished")
  userId        Int
  user          user   @relation(fields: [userId], references: [id])

  @@id([userId, day])
}


model allocation {
  allocation_day      Int
  items               String
  price               Int
  allocation_exp      Int
  allocation_status   String @default("Unfinished")
  userId              Int
  user                user   @relation(fields: [userId], references: [id])

  @@id([userId, allocation_day])
}